<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel de Administração</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .hidden {
            display: none;
        }
        #map {
            height: 400px;
            width: 100%;
        }
    </style>
</head>
<body>
    <header>
        <h1>Painel de Administração</h1>
    </header>
    <nav>
        <ul>
            <li><a href="#dashboard" onclick="showSection('dashboard')">Dashboard</a></li>
            <li><a href="#usuarios" onclick="showSection('usuarios')">Gerenciar Motoristas</a></li>
            <li><a href="#produtos" onclick="showSection('produtos')">Gerenciar Frota de Ônibus</a></li>
            <li><a href="#relatorios" onclick="showSection('relatorios')">Relatórios</a></li>
        </ul>
    </nav>
    <main>
        <section id="dashboard" class="content-section">
            <h2>Dashboard</h2>
            <div id="map"></div>
        </section>
        <section id="usuarios" class="content-section hidden">
            <h2>Gerenciar Motoristas</h2>
            <p>Preencha o formulário abaixo para adicionar um novo motorista:</p>
            <form id="driverForm">
                <label for="driverName">Nome do Motorista:</label>
                <input type="text" id="driverName" name="driverName" required>
                <label for="driverBirthDate">Data de Nascimento:</label>
                <input type="text" id="driverBirthDate" name="driverBirthDate" pattern="\d{2}/\d{2}/\d{4}" placeholder="DD/MM/AAAA" required>
                <label for="driverNumber">Número de Telefone:</label>
                <input type="tel" id="driverNumber" name="driverNumber" pattern="\([0-9]{2}\) [0-9]{4,5}-[0-9]{4}" placeholder="(DD) 99999-9999" required>
                <label for="driverEmail">Email:</label>
                <input type="email" id="driverEmail" name="driverEmail" required>
                <label for="driverCEP">CEP:</label>
                <input type="text" id="driverCEP" name="driverCEP" pattern="[0-9]{5}-?[0-9]{3}" required>
                <button type="button" onclick="fetchAddress()">Preencher Localização</button>
                <label for="driverAddress">Endereço:</label>
                <input type="text" id="driverAddress" name="driverAddress" readonly>
                <button type="submit">Adicionar Motorista</button>
            </form>
            <!-- Lista de Motoristas -->
        </section>
        <section id="produtos" class="content-section hidden">
            <h2>Gerenciar Frota de Ônibus</h2>
            <p>Preencha o formulário abaixo para adicionar um novo ônibus à frota:</p>
            <form id="busForm">
                <label for="busName">Nome do Ônibus:</label>
                <input type="text" id="busName" name="busName" required>
                <label for="busModel">Modelo:</label>
                <input type="text" id="busModel" name="busModel" required>
                <label for="busCapacity">Capacidade de Passageiros:</label>
                <input type="number" id="busCapacity" name="busCapacity" required>
                <button type="submit">Adicionar Ônibus</button>
            </form>
            <!-- Lista de Ônibus -->
        </section>
        <section id="relatorios" class="content-section hidden">
            <h2>Relatórios</h2>
            <!-- Conteúdo dos Relatórios -->
        </section>
    </main>
    <script src="scripts.js"></script>
    <script>
        function showSection(sectionId) {
            // Esconde todas as seções
            var sections = document.querySelectorAll('.content-section');
            sections.forEach(function(section) {
                section.classList.add('hidden');
            });

            // Mostra a seção clicada
            var selectedSection = document.getElementById(sectionId);
            selectedSection.classList.remove('hidden');

            // Se a seção for Dashboard, inicializa o mapa
            if (sectionId === 'dashboard') {
                initMap();
            }
        }

        function fetchAddress() {
            var cep = document.getElementById('driverCEP').value.replace(/\D/g, '');

            if (cep.length != 8) {
                alert('CEP inválido. Por favor, insira um CEP válido com 8 dígitos.');
                return;
            }

            var url = `https://viacep.com.br/ws/${cep}/json/`;

            fetch(url)
                .then(response => response.json())
                .then(data => {
                    if (data.erro) {
                        alert('CEP não encontrado. Por favor, insira um CEP válido.');
                    } else {
                        document.getElementById('driverAddress').value = `${data.logradouro}, ${data.bairro}, ${data.localidade} - ${data.uf}`;
                    }
                })
                .catch(error => {
                    console.error('Ocorreu um erro ao buscar o endereço:', error);
                });
        }

        function initMap() {
            // Posição inicial do mapa
            var initialPosition = { lat: -19.9316, lng: -43.9417 }; // Av. Brasil, 2023 - Funcionários, Belo Horizonte - MG, 30140-002

            // Inicialização do mapa
            var map = new google.maps.Map(document.getElementById('map'), {
                zoom: 15, // Zoom inicial
                center: initialPosition // Posição inicial do mapa
            });

            // Adiciona marcador na posição inicial
            var marker = new google.maps.Marker({
                position: initialPosition,
                map: map,
                title: 'Localização Inicial'
            });
        }
    </script>
    <script src="colocar o mapa aqui"></script>
</body>
</html>
